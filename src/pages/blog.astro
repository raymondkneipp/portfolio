---
import Layout from '@layouts/Layout.astro';
import Container from '@components/Container.astro';
import { Img } from 'astro-imagetools/components';

const posts = await Astro.glob('./posts/*.md');
---

<Layout title='Web Developer | Raymond Kneipp'>
	<main>
		<Container>
			<section class='space-y-6 py-24'>
				<h1 class='text-zinc-100 text-5xl font-bold'>Blog</h1>

				<div class='grid md:grid-cols-2 lg:grid-cols-3 gap-12'>
					{posts.map((post) => (
						<a href={post.url} class="bg-zinc-800 rounded-2xl overflow-hidden focus:outline-none focus-visible:ring focus-visible:ring-cyan-500">
							<article class="flex flex-col h-full">
								<Img src={post.frontmatter.image} alt={`${post.frontmatter.title}`} />
								<div class="p-6 space-y-3">
								<h2 class="text-zinc-100 text-2xl font-bold">
									{post.frontmatter.title}
								</h2>
								<p class="flex-1">{post.frontmatter.description}</p>
								<div class="h-px bg-zinc-700" />
								<div class="flex items-center space-x-3">
									<div class="h-14 w-14 rounded-full bg-zinc-100">
										<Img
											placeholder="none"
											alt={`${post.frontmatter.author} portrait`}
											src={post.frontmatter.avatar}
										/>
									</div>
									<div class="space-y-1">
										<h2 class="font-bold text-zinc-100">
											{post.frontmatter.author}
										</h2>
										<p class="text-zinc-400">{post.frontmatter.date}</p>
									</div>
								</div>
									</div>
							</article>
						</a>
					))}
				</div>
			</section>
		</Container>
	</main>
</Layout>
